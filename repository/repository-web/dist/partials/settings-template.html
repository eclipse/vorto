<section class="content">

  <div id="settings">
    <h2 class="modelHeader ng-binding">Account Settings</h2>
    <hr>
	<br/>
	<div>
    	<div ng-show="success">
		  	<p>
		  		<div class="alert alert-success" role="alert">
		  			<i class="glyphicon glyphicon-ok-sign"></i>
		  			<span class="sr-only">Success:</span>
				  	Account Settings have been updated.
		  		</div>
		  	</p>
	  	</div>	
		<div ng-show="errorMessage">
		  	<p>
		  		<div class="alert alert-danger" role="alert">
				  	<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				  	<span class="sr-only">Error:</span>
				  	Error during Update.
				</div>
		  	</p>
		</div>
	</div>
	
	<br/>
	<br/>
	
	<form name="settings">
		<div class="form-group">
			<label>User Id</label>
			<input readonly type="text" name="userId" id="userId" class="form-control" value="{{user.username}}" />     
		</div>
	  	<div class="form-group">
			<label>Email</label>
			<input type="email" name="email" id="email" class="form-control" placeholder="Enter your Email" ng-model="user.email" value="{{user.email}}" />  
			<div class="input-description">Optional: Used for notifying you when your model changes.</div>
		</div>  
 	<br/>
  
    <br />
    <div class="row">
      <div class="col-md-12">
        <button class="btn btn-danger" type="submit" ng-click="openRemoveAccount()"><i class="fa fa-trash-o"></i>Delete Account</button>
        <button class="btn btn-primary pull-right" ng-disabled="form.$invalid || vm.dataLoading" type="submit" ng-click="saveSettings()"><i class="fa fa-fw fa-save"></i>Save Settings</button>
      	<a class="btn btn-default" ng-href="rest/models/mine/download" role="button"><i class="fa fa-fw fa-download"></i>Export Data</a>
      </div>
    </div>
  </div>
  
  
	
  <script type="text/ng-template" id="deleteAccount.html">
	<div class="modal-header">
			<button type="button" class="close" ng-click="cancel()">&times;</button>
  		<h3 class="modal-title" id="modal-title-deleteAccount">Delete Account</h3>
	</div>
  <div class="modal-body" id="modal-body-deleteAccount">
      <div class="row">
      	<div class="col-md-12">
        	Are you sure you want to delete your account?
      	</div>
	  </div>
	  <hr>
	  <div class="row">
		<div class="col-md-12">
        	<div ng-hide="ownsNamespaces" class="alert alert-warning" role="alert">Note: If you delete your account, the following steps will be taken: <ol> <li>Your user profile will be permanently removed from the database.</li> <li>Your models will be anonymized.</li> <ol> </div>
      		<div ng-show="ownsNamespaces" class="alert alert-warning" role="alert">You cannot delete your account just yet, because you still own a namespace. Please go to <b>Manage</b> and delete your namespace or transfer the ownership to somebody else.</div>
      	</div>
     </div>
	</div>
	<div class="modal-footer">
      <button class="btn btn-danger" ng-disabled="ownsNamespaces" type="button" ng-click="deleteAccount()">Delete account</button>
      <button class="btn btn-default" type="button" ng-click="cancel()">Cancel</button>
  </div>
	</script>

</section>
