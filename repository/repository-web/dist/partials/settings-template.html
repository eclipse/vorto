<section class="content">

  <div id="settings">
    <h2 class="modelHeader ng-binding">Account Settings</h2>
    <hr>
	<br/>
	<div ng-show="put">
    	<div ng-show="success">
		  	<p>
		  		<div class="alert alert-success" role="alert">
		  			<i class="glyphicon glyphicon-ok-sign"></i>
		  			<span class="sr-only">Success:</span>
				  	Account Settings have been updated.
		  		</div>
		  	</p>
	  	</div>	
		<div ng-show="errorMessage">
		  	<p>
		  		<div class="alert alert-danger" role="alert">
				  	<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				  	<span class="sr-only">Error:</span>
				  	Error during Update.
				</div>
		  	</p>
		</div>
	</div>
	
	<br/>
	<br/>
	
	<form name="settings">
		<div class="form-group">
			<label>User Id</label>
			<input readonly type="text" name="userId" id="userId" class="form-control" value="{{user}}" />     
		</div>
	  	<div class="form-group">
			<label>Email</label>
			<input type="email" name="email" id="email" class="form-control" placeholder="Enter your Email" ng-model="email" value="{{user}}" />  
			<small style="color:grey;font-size:10px">Optional: Used for notifying you when your model changes.</small>
		</div>  
 	<br/>
  
    <br />
    <div class="row">
      <div class="col-md-12">
        <button class="btn btn-danger" type="submit" ng-click="openRemoveAccount()">Delete Account</button>
        <button class="btn btn-success pull-right" ng-disabled="form.$invalid || vm.dataLoading" type="submit" ng-click="saveSettings()"><i class="fa fa-fw fa-save"></i>Save Settings</button>
      	<a class="btn btn-primary" ng-href="rest/{{tenant}}/models/mine/download" role="button"><i class="fa fa-fw fa-download"></i>Export Data</a>
      </div>
    </div>
  </div>
  
  
	
  <script type="text/ng-template" id="deleteAccount.html">
	<div class="modal-header">
			<button type="button" class="close" ng-click="cancel()">&times;</button>
  		<h3 class="modal-title" id="modal-title-deleteAccount">Delete Account</h3>
	</div>
  <div class="modal-body" id="modal-body-deleteAccount">
      <div class="row">
      	<div class="col-md-12">
        	Are you sure you want to delete your account?
      	</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-md-12">
        		<div class="alert alert-warning" role="alert">Note: If you delete your account, the following steps will be taken: <ol> <li>Your user profile will be permanently removed from the database.</li> <li>Your models will be anonymized in the model repository and remain publicly available for other users.</li> <ol> </div>
      	</div>
    	</div>
	</div>
	<div class="modal-footer">
	  <button class="btn btn-primary" type="button" ng-click="cancel()">Cancel</button>
      <button class="btn btn-danger" type="button" ng-click="deleteAccount()">Delete account</button>
  </div>
	</script>

</section>
